<div class="ui-g ui-fluid links">
  <app-links [links]="links"></app-links>
</div>

<p-card class="job">
  <p-header>
    Lancer les jobs dans une « task queue »
  </p-header>
  <div class="ui-g ui-fluid">
    <div class="ui-g-12 ui-lg-6 ui-g-nopad">
      <span class="label">Sélectionner l'éditeur</span>
      <div class="ui-g">
        <p-dropdown class="ui-g-8 ui-lg-6" [options]="editors" [(ngModel)]="selectedEditor" optionLabel="name"
          placeholder="Select an editor" [showClear]="true">
        </p-dropdown>
        <p-button class="btn-primary ui-g-4 ui-lg-5" type="button" label="lancer le job" [disabled]="!selectedEditor" (onClick)="runEditorJob()"></p-button>
      </div>
    </div>
    <div class="ui-g-12 ui-lg-6 ui-g-nopad">
      <span class="label">Sélectionner le media</span>
      <div class="ui-g">
        <p-dropdown class="ui-g-8 ui-lg-7" [options]="editorSelectorItems" [(ngModel)]="selectedMedia" name="selectedEditor"
          placeholder="Select a media" [group]="true" showClear="true">
          <ng-template let-media pTemplate="item">
            {{media.value.id}}.{{media.label}}
          </ng-template>
        </p-dropdown>
        <p-button class="btn-primary ui-g-4 ui-lg-5" type="button" label="lancer le job" [disabled]="!selectedMedia" (onClick)="runMediaJob()"></p-button>
      </div>
    </div>
  </div>
  <p-footer>
      <p-message *ngIf="jobSuccess" severity="success" text="Job lancé avec succés!"></p-message>
      <p-message *ngIf="jobFailure" severity="error" text="Erreur lors du lancement du job!"></p-message>
  </p-footer>
</p-card>
<br>
<app-show-editor></app-show-editor>
